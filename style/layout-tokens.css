/*
 * layout-tokens.css
 * ─────────────────────────────────────────────────────────
 * Single source of truth for layout-specific color tokens.
 *
 * HOW IT WORKS:
 *   Each layout wrapper gets a data-layout="x" attribute.
 *   Components inside use --lt-* tokens instead of direct
 *   CSS variables so colors are controlled from one place.
 *
 * NESTING RULE:
 *   Each layout block includes a high-specificity nested
 *   selector so inner layouts always override outer ones.
 *
 * TOKENS:
 *   --lt-bg            main surface background
 *   --lt-fg            primary text color
 *   --lt-border        border color
 *   --lt-shadow        box-shadow token
 *   --lt-status-bar    iOS/browser status bar color (ALWAYS matches --lt-bg)
 *
 * GLOBAL PALETTE (GP):
 *   Set --gp-* once to control all layouts at once.
 *   Individual layout blocks reference var(--gp-*) by default.
 *   Override any single token in a layout block to break from group.
 *
 * CRITICAL RULE:
 *   --gp-status-bar ALWAYS equals --gp-bg (they must match)
 *
 * IMPORT in globals.css (before @tailwind directives):
 *   @import "@/style/layout-tokens.css";
 * ─────────────────────────────────────────────────────────
 */

/* ─── GLOBAL PALETTE (GP) ──────────────────────────────────
 * Set these once to control all layouts simultaneously.
 * Individual layout blocks below can override per-layout.
 *
 * USAGE IN LAYOUT BLOCKS:
 *   --lt-bg: var(--gp-bg);        ← inherits group color
 *   --lt-bg: hsl(var(--primary)); ← overrides individually
 *
 * RULE: --gp-status-bar ALWAYS matches --gp-bg
 * ─────────────────────────────────────────────────────────
 */

:root {
  --gp-bg:         hsl(var(--destructive));
  --gp-fg:         hsl(var(--destructive-foreground));
  --gp-border:     hsl(var(--destructive) / 0.4);
  --gp-shadow:     var(--shadow-sm);
  --gp-status-bar: var(--gp-bg); /* ✅ Always matches background */
}

.dark {
  --gp-bg:         hsl(var(--destructive));
  --gp-fg:         hsl(var(--destructive-foreground));
  --gp-border:     hsl(var(--destructive) / 0.4);
  --gp-shadow:     var(--shadow-md);
  --gp-status-bar: var(--gp-bg); /* ✅ Always matches background */
}

/* ─── SHOP HEADER ─────────────────────────────────────── */
[data-layout="shop"],
:is([data-layout]) [data-layout="shop"] {
  --lt-bg:         var(--gp-bg);
  --lt-fg:         var(--gp-fg);
  --lt-border:     var(--gp-border);
  --lt-shadow:     var(--gp-shadow);
  --lt-status-bar: var(--lt-bg); /* ✅ Always matches this layout's background */
}

.dark [data-layout="shop"],
.dark :is([data-layout]) [data-layout="shop"] {
  --lt-bg:         var(--gp-bg);
  --lt-fg:         var(--gp-fg);
  --lt-border:     var(--gp-border);
  --lt-shadow:     var(--gp-shadow);
  --lt-status-bar: var(--lt-bg); /* ✅ Always matches this layout's background */
}

/* ─── APP HEADER ──────────────────────────────────────── */
[data-layout="app"],
:is([data-layout]) [data-layout="app"] {
  --lt-bg:         var(--gp-bg);
  --lt-fg:         var(--gp-fg);
  --lt-border:     hsl(var(--primary) / 0.2);
  --lt-shadow:     var(--gp-shadow);
  --lt-status-bar: var(--lt-bg); /* ✅ Always matches this layout's background */
}

.dark [data-layout="app"],
.dark :is([data-layout]) [data-layout="app"] {
  --lt-bg:         var(--gp-bg);
  --lt-fg:         var(--gp-fg);
  --lt-border:     hsl(var(--primary) / 0.2);
  --lt-shadow:     var(--gp-shadow);
  --lt-status-bar: var(--lt-bg); /* ✅ Always matches this layout's background */
}

/* ─── DASHBOARD HEADER ────────────────────────────────── */
[data-layout="dashboard"],
:is([data-layout]) [data-layout="dashboard"] {
  --lt-bg:         var(--gp-bg);
  --lt-fg:         var(--gp-fg);
  --lt-border:     var(--gp-border);
  --lt-shadow:     var(--gp-shadow);
  --lt-status-bar: var(--lt-bg); /* ✅ Always matches this layout's background */
}

.dark [data-layout="dashboard"],
.dark :is([data-layout]) [data-layout="dashboard"] {
  --lt-bg:         var(--gp-bg);
  --lt-fg:         var(--gp-fg);
  --lt-border:     var(--gp-border);
  --lt-shadow:     var(--gp-shadow);
  --lt-status-bar: var(--lt-bg); /* ✅ Always matches this layout's background */
}

/* ─── SIDEBAR ─────────────────────────────────────────── */
[data-layout="sidebar"],
:is([data-layout]) [data-layout="sidebar"] {
  --lt-bg:         var(--gp-bg);
  --lt-fg:         var(--gp-fg);
  --lt-border:     var(--gp-border);
  --lt-shadow:     var(--gp-shadow);
  --lt-status-bar: var(--lt-bg); /* ✅ Always matches this layout's background */
}

.dark [data-layout="sidebar"],
.dark :is([data-layout]) [data-layout="sidebar"] {
  --lt-bg:         var(--gp-bg);
  --lt-fg:         var(--gp-fg);
  --lt-border:     var(--gp-border);
  --lt-shadow:     var(--gp-shadow);
  --lt-status-bar: var(--lt-bg); /* ✅ Always matches this layout's background */
}

/* ─── FOOTER ──────────────────────────────────────────── */
[data-layout="footer"],
:is([data-layout]) [data-layout="footer"] {
  --lt-bg:         var(--gp-bg);
  --lt-fg:         var(--gp-fg);
  --lt-border:     var(--gp-border);
  --lt-shadow:     var(--gp-shadow);
  --lt-status-bar: var(--lt-bg); /* ✅ Always matches this layout's background */
}

.dark [data-layout="footer"],
.dark :is([data-layout]) [data-layout="footer"] {
  --lt-bg:         var(--gp-bg);
  --lt-fg:         var(--gp-fg);
  --lt-border:     var(--gp-border);
  --lt-shadow:     var(--gp-shadow);
  --lt-status-bar: var(--lt-bg); /* ✅ Always matches this layout's background */
}